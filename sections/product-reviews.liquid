<div
  class="review-extension-container pt-56 pb-56 sm:pt-0 sm:pb-16"
  id="product-review-app-{{ section.id }}"
  data-section-id="{{ section.id }}"
  data-product-id="{{ product.id }}"
  data-product-handle="{{ product.handle }}"
  data-customer-id="{{ customer.id }}"
  data-customer-name="{{ customer.name }}"
  data-shop-domain="{{ shop.permanent_domain }}"
  data-star-filled-color="#FB6F92"
  data-star-empty-color="#CBD3D7"
  data-show-empty="{{ section.settings.show_empty_reviews | default: false }}"
>
  <div class="page-width flex flex-col gap-24">
    <div class="review-summary hidden" id="review-summary-{{ section.id }}"></div>

    <div>
      {% if customer %}
        <button 
          class="button button--outline flex items-center gap-4 fs-16-lh-100pct-ls-0 write-review-btn" 
          id="write-review-btn-{{ section.id }}"
          type="button"
          data-write-review-btn
          data-section-id="{{ section.id }}"
        >
          {% render "icon-plus", cls: "w-28 h-28" %} 
          {{ 'products.product.review.write_review' | t }}
        </button>
      {% else %}
        <a 
          class="button button--outline flex items-center gap-4 fs-16-lh-100pct-ls-0 inline-flex w-auto" 
          href="{{ routes.account_login_url }}"
          type="button"
        >
          {% render "icon-plus", cls: "w-28 h-28" %} 
          {{ 'products.product.review.write_review' | t }}
        </a>
      {% endif %}
    </div>

    <div class="reviews-list" id="reviews-list-{{ section.id }}">
      <div class="review-spinner" id="reviews-spinner-{{ section.id }}">
        <div></div>
      </div>
    </div>

    <div class="load-more-container text-center flex justify-center" id="load-more-container-{{ section.id }}" style="display: none;">
      <button 
        class="button button--solid load-more-btn fs-16-lh-100pct-ls-0 fw-600 pt-22_5 pr-16 pb-22_5 pl-16 block sm:hidden" 
        id="load-more-btn-{{ section.id }}"
        type="button"
      >
        {{ 'products.reviews.load_more' | t }}
      </button>
    </div>
  </div>

  {% render 'product-review-form', section_id: section.id, product: product, customer: customer, initial_classes: 'hidden' %}
</div>

<script src="{{ 'products-review.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "Product reviews",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_empty_reviews",
      "label": "Show empty reviews message",
      "default": true
    }
  ]
}
{% endschema %}